#include <stdlib.h>

#include "headers/set.h"
#include "headers/set_node.h"

void add(struct Set * set, char * word) {
	//create the node containing the word
	struct SetNode * item = (struct SetNode *) malloc( sizeof( struct SetNode));
	if (item == NULL) error();
	item -> word = word;
	item -> next = NULL;
	//attach node to set:
	if ( set -> size == 0) {// set is empty
		set -> first = item;
		set -> size = 1;
	}
	else if (!isMember(set, word) ){
		item -> next = set -> first;
		set -> first = item;
		set -> size = set -> size + 1;
	}
}

int isMember(struct Set * set, char * word)
{
	struct SetNode * item = set -> first;
	while(item -> next != NULL)
	{
		if(item -> word == word)
			return 1;
		item = item -> next;
	}
	if(item -> word == word)
		return 1;
	return 0;
}

void printSet(struct Set * set)
{
	struct SetNode * item = set -> first;
	while(item -> next != NULL)
	{
		if(item -> word != NULL)
			printf("%s\n",word);
		item = item -> next;
	}
	if(item -> word != NULL)
		printf("%s\n",word);
}